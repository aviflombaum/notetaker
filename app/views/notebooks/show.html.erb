  <div class="col-md-10 col-md-offset-1">
    <div class="row notebookSection">
      <h1 class="page-header"><%= @notebook.title %></h1>
      <div class="inline">
        <%= link_to 'Back', notebook_path(@notebook), :class => "btn btn-xs btn-default" %>
        <% if current_user.id == @notebook.user_id %>
          <%= link_to 'New Note', new_notebook_note_path(@notebook, @note), :class => "btn btn-xs btn-default" %>
          <%= link_to "Delete", @notebook, method: :delete, data: {confirm: "Are you sure you want to delete this notebook?"}, :class => "btn btn-xs btn-default" %>
        <% end %>
      </div>
      <p><%= pluralize(@notebook.reference_count, 'reference') %>  in this notebook</p>

    </div>

    <div class="row notebookNoteSection">
      <% @notebook.notes.each do |note|  %>
        <div class="single-note">
          <h4 class="noteName"> <%= note.id %>: <%= link_to note.name, note_path(note)%></h4>
          <p>Updated at: <%=note.updated_at.strftime("%D") %> </p>
          <div id="content-<%= note.id %>"> <%=truncate(note.content, length: 100) %></div>
          <button class='js-more btn' data-id='<%= note.id %>'> More...</button>
        </div>

      <% end %>
    </div>
  </div>


  <script type="text/javascript" charset="utf-8">
  $(function () {
    $(".js-more").on('click', function() {
      // get the id from the data attribute
      var id = $(this).data("id");
      $.get("/notes/" + id + "/content", function(data) {
        // alert(data);
        $("#content-" + id).text(data);
      });
    });
  });
  </script>
